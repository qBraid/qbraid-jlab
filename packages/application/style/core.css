/*-----------------------------------------------------------------------------
| Copyright (c) Jupyter Development Team.
| Distributed under the terms of the Modified BSD License.
|----------------------------------------------------------------------------*/

:root {
  --jp-private-menu-panel-height: 27px;
}

.lm-Widget.lm-mod-hidden {
  display: none !important;
}

.jp-ThemedContainer {
  font-family: var(--jp-ui-font-family);
  background: var(--jp-layout-color3);
  margin: 0;
  padding: 0;
  overflow: hidden;
}

.jp-LabShell {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

.jp-LabShell.jp-mod-devMode {
  border-top: none; /* qBraid: no red bar */
}

#jp-main-dock-panel {
  padding: 8px 0 8px 8px !important; /* qBraid: no right padding - allow scrollbar to flush to edge */
  margin-right: 0 !important;
}

#jp-main-dock-panel[data-mode='single-document'] {
  padding: 0;
}

#jp-main-dock-panel[data-mode='single-document'] .jp-MainAreaWidget {
  border: none;
}

#jp-top-panel {
  border-bottom: none; /* qBraid: no border */
  background: var(
    --qbraid-bg-hover
  ) !important; /* qBraid: match file browser #1a1a1a */

  display: flex !important;
  flex-direction: row !important; /* qBraid: horizontal layout */
  align-items: center !important; /* qBraid: center items vertically */
  justify-content: flex-start !important; /* qBraid: items flow left to right */
  gap: 0 !important; /* qBraid: no gap between logo and menu */
  min-height: var(--jp-private-menubar-height);
  height: auto !important; /* qBraid: allow panel to grow for logo */
  overflow: visible !important; /* qBraid: prevent logo truncation */
  position: relative;
  padding: 4px 12px 4px 0 !important; /* qBraid: restore top/bottom padding */
  margin-left: 0 !important; /* qBraid: no left margin */

  /* relax lumino strict CSS contaiment to allow painting the menu bar item
  over the menu in order to create an illusion of partial border */
  contain: style !important; /* qBraid: removed 'size' to allow logo to overflow */
}

/* qBraid: Ensure menu bar flows directly after logo */
#jp-top-panel > #jp-MainLogo + #jp-MainMenu,
#jp-top-panel > #jp-MainLogo + .lm-MenuBar {
  margin-left: 4px !important; /* qBraid: minimal gap after logo/text */
  padding-left: 0 !important;
}

/* qBraid: Remove all margins/padding from other top panel children */
#jp-top-panel
  > *:not(#jp-MainLogo):not(#jp-MainMenu):not(.lm-MenuBar):not(
    #topbar-actions
  ) {
  margin-left: 0 !important;
  padding-left: 0 !important;
}

/* qBraid: Push topbar actions to the right */
#jp-top-panel > #topbar-actions {
  margin-left: auto !important;
  margin-right: 8px;
}

/* qBraid: Visual change indicator - Update chars when making CSS changes */
#jp-top-panel::after {
  content: 'C5A';
  position: fixed;
  top: 4px;
  right: 8px;
  z-index: 10000;
  font-family: 'Geist Mono', monospace;
  font-size: 10px;
  color: var(--qbraid-text-muted);
  background: var(--qbraid-bg-surface);
  padding: 2px 6px;
  border-radius: 3px;
  border: 1px solid var(--qbraid-border-default);
  pointer-events: none;
  opacity: 0.7;
}

#jp-menu-panel {
  min-height: var(--jp-private-menu-panel-height);
  background: var(--jp-layout-color1);
}

#jp-down-stack {
  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);
}

.jp-LabShell[data-shell-mode='single-document'] #jp-top-panel {
  border-bottom: none;
}

.jp-LabShell[data-shell-mode='single-document'] #jp-menu-panel {
  padding-left: calc(
    var(--jp-private-sidebar-tab-width) + var(--jp-border-width)
  );
  border-bottom: var(--jp-border-width) solid var(--jp-border-color0);

  /* Adjust min-height so open menus show up in the right place */
  min-height: calc(
    var(--jp-private-menu-panel-height) + var(--jp-border-width)
  );
}

#jp-bottom-panel {
  background: var(--jp-layout-color1);
  display: flex;
}

#jp-single-document-mode {
  margin: 0 8px;
  display: flex;
  align-items: center;
}
